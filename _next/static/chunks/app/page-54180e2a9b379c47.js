(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1521:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p});var s=r(5155),a=r(2115),l=r(2596),n=r(9688);function i(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.QP)((0,l.$)(t))}function o(e){let{className:t,...r}=e;return(0,s.jsx)("div",{"data-slot":"card",className:i("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...r})}function c(e){let{className:t,...r}=e;return(0,s.jsx)("div",{"data-slot":"card-content",className:i("px-6",t),...r})}var d=r(4624);let h=(0,r(2085).F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-[color,box-shadow] disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40",outline:"border border-input bg-background shadow-xs hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function u(e){let{className:t,variant:r,size:a,asChild:l=!1,...n}=e,o=l?d.DX:"button";return(0,s.jsx)(o,{"data-slot":"button",className:i(h({variant:r,size:a,className:t})),...n})}var f=r(6242),x=r(5683);let v="1HJQ6NaJT34igFRXkkS5yN_L-c3Rr-WcihlEGaV_zFrU",g="AIzaSyByrb87NbQeihNKDFI488iLaXQ9nJ4IZiY",m=async()=>{try{let e="https://sheets.googleapis.com/v4/spreadsheets/".concat(v,"?key=").concat(g),t=await fetch(e);if(!t.ok)throw Error("Failed to fetch sheet names");return(await t.json()).sheets.map(e=>e.properties.title)}catch(e){return console.error("Error fetching sheet names:",e),null}},b=async e=>{try{let t="https://sheets.googleapis.com/v4/spreadsheets/".concat(v,"/values/").concat(e,"!A:B?key=").concat(g);console.log("Fetching data from:",t);let r=await fetch(t);if(!r.ok){let e=await r.text();throw Error("Failed to fetch data: ".concat(e))}let s=await r.json();return s.values?s.values.slice(1):[]}catch(e){return console.error("Error fetching flashcards:",e),null}};function p(){let[e,t]=(0,a.useState)(null),[r,l]=(0,a.useState)(0),[n,i]=(0,a.useState)(!1),[d,h]=(0,a.useState)([]),[v,g]=(0,a.useState)(null),p=(0,f.m)();return(0,a.useEffect)(()=>{m().then(e=>{h(e),g(e[0])})},[]),(0,a.useEffect)(()=>{console.log("Selected sheet:",v),v&&b(v).then(t)},[v]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"p-4 shadow-md text-center bg-white text-black",children:(0,s.jsx)("select",{onChange:e=>g(e.target.value),children:d.map(e=>(0,s.jsx)("option",{value:e,children:e},e))})}),(0,s.jsxs)("div",{className:"relative flex items-center justify-center p-4",children:[(0,s.jsx)("div",{className:"w-96 aspect-square perspective-1000",children:e&&e[r]?(0,s.jsxs)(x.P.div,{className:"relative w-full h-full",animate:{rotateY:180*!!n},transition:{duration:.5},drag:"x",dragControls:p,dragConstraints:{left:0,right:0},onDragEnd:(e,t)=>{(t.offset.x>50||t.offset.x<-50)&&i(!n)},children:[(0,s.jsx)("div",{className:"absolute w-full h-full",children:(0,s.jsx)(o,{className:"p-4 text-center w-full h-full",children:(0,s.jsx)(c,{className:"flex items-center justify-center w-full h-full overflow-hidden",children:(e=>{try{return new URL(e),!0}catch(e){return!1}})(e[r][0])?(0,s.jsx)("img",{src:e[r][0],alt:"Flashcard",className:"max-w-full max-h-full object-contain select-none pointer-events-none"}):(0,s.jsx)("h2",{className:"text-xl font-bold",children:e[r][0]})})})}),n&&(0,s.jsx)("div",{className:"absolute w-full h-full backface-hidden rotateY-180",children:(0,s.jsx)(o,{className:"p-4 text-center w-full h-full relative",children:(0,s.jsx)(c,{className:"absolute inset-0 flex items-center justify-center w-full h-full overflow-hidden",children:(0,s.jsx)("p",{className:"text-center font-semibold break-words leading-none w-full h-full flex items-center justify-center",style:{fontSize:"min(8vw, 8vh, 3rem)",transform:"rotateY(180deg)"},children:e[r][1]})})})})]}):(0,s.jsx)("div",{className:"text-center text-gray-500",children:"Loading flashcards..."})}),(0,s.jsxs)("div",{className:"fixed bottom-20 flex justify-center w-full text-center",children:[(0,s.jsx)(u,{onClick:()=>{i(!1),l(t=>(t-1+((null==e?void 0:e.length)||1))%((null==e?void 0:e.length)||1))},className:"mr-4 bg-yellow-500 text-black hover:bg-yellow-200",children:"Prev"}),(0,s.jsx)(u,{onClick:()=>{e&&l(Math.floor(Math.random()*e.length))},className:"mx-4 bg-yellow-500 text-black hover:bg-yellow-200",children:"Shuffle"}),(0,s.jsx)(u,{onClick:()=>{i(!1),l(t=>(t+1)%((null==e?void 0:e.length)||1))},className:"ml-4 bg-yellow-500 text-black hover:bg-yellow-200",children:"Next"})]})]})]})}},5050:(e,t,r)=>{Promise.resolve().then(r.bind(r,1521))}},e=>{var t=t=>e(e.s=t);e.O(0,[95,441,684,358],()=>t(5050)),_N_E=e.O()}]);