(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{622:(e,t,s)=>{"use strict";s.d(t,{default:()=>w});var r=s(5155),a=s(2115),l=s(6072),n=s(2596),i=s(9688);function o(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,i.QP)((0,n.$)(t))}function d(e){let{className:t,...s}=e;return(0,r.jsx)("div",{"data-slot":"card",className:o("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...s})}function c(e){let{className:t,...s}=e;return(0,r.jsx)("div",{"data-slot":"card-content",className:o("px-6",t),...s})}var u=s(4624);let h=(0,s(2085).F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-[color,box-shadow] disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40",outline:"border border-input bg-background shadow-xs hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function v(e){let{className:t,variant:s,size:a,asChild:l=!1,...n}=e,i=l?u.DX:"button";return(0,r.jsx)(i,{"data-slot":"button",className:o(h({variant:s,size:a,className:t})),...n})}var f=s(6242),x=s(5683),g=s(1890);let m=g.env.NEXT_PUBLIC_SHEET_ID,b=g.env.NEXT_PUBLIC_API_KEY,p=async e=>{let t=await fetch(e);if(!t.ok)throw Error("Failed to fetch data");return t.json()};function w(){var e,t;let{data:s,error:n}=(0,l.Ay)("https://sheets.googleapis.com/v4/spreadsheets/".concat(m,"?key=").concat(b),p),i=(null==s?void 0:null===(e=s.sheets)||void 0===e?void 0:e.map(e=>e.properties.title))||[],[o,u]=(0,a.useState)(i[0]||null),{data:h,error:g}=(0,l.Ay)(o?"https://sheets.googleapis.com/v4/spreadsheets/".concat(m,"/values/").concat(o,"!A:B?key=").concat(b):null,p),w=(null==h?void 0:null===(t=h.values)||void 0===t?void 0:t.slice(1))||[],[j,y]=(0,a.useState)(0),[N,k]=(0,a.useState)(!1),_=(0,f.m)();return n||g?(0,r.jsx)("div",{children:"Error loading data"}):s?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"p-4 shadow-md text-center bg-white text-black",children:(0,r.jsx)("select",{onChange:e=>u(e.target.value),value:o||"",children:i.map(e=>(0,r.jsx)("option",{value:e,children:e},e))})}),(0,r.jsxs)("div",{className:"relative flex items-center justify-center p-4",children:[(0,r.jsx)("div",{className:"w-96 aspect-square perspective-1000",children:w[j]?(0,r.jsxs)(x.P.div,{className:"relative w-full h-full",animate:{rotateY:180*!!N},transition:{duration:.5},drag:"x",dragControls:_,dragConstraints:{left:0,right:0},onDragEnd:(e,t)=>{(t.offset.x>50||t.offset.x<-50)&&k(!N)},children:[(0,r.jsx)("div",{className:"absolute w-full h-full",children:(0,r.jsx)(d,{className:"p-4 text-center w-full h-full",children:(0,r.jsx)(c,{className:"flex items-center justify-center w-full h-full overflow-hidden",children:!function(e){try{return new URL(e),!0}catch(e){return!1}}(w[j][0])?(0,r.jsx)("h2",{className:"text-xl font-bold",children:w[j][0]}):(0,r.jsx)("img",{src:w[j][0],alt:"flashcard",className:"max-h-96 pointer-events-none select-none",draggable:"false"})})})}),N&&(0,r.jsx)("div",{className:"absolute w-full h-full backface-hidden rotateY-180",children:(0,r.jsx)(d,{className:"p-4 text-center w-full h-full relative",children:(0,r.jsx)(c,{className:"absolute inset-0 flex items-center justify-center w-full h-full overflow-hidden",children:(0,r.jsx)("p",{className:"text-xl font-bold",style:{transform:"rotateY(180deg)"},children:w[j][1]})})})})]}):(0,r.jsx)("div",{className:"text-center text-gray-500",children:"Loading flashcards..."})}),(0,r.jsxs)("div",{className:"fixed bottom-20 flex justify-center w-full text-center",children:[(0,r.jsx)(v,{onClick:()=>y(e=>(e-1+w.length)%w.length),className:"mr-4 bg-yellow-500 text-black hover:bg-yellow-200",children:"Prev"}),(0,r.jsx)(v,{onClick:()=>y(Math.floor(Math.random()*w.length)),className:"mx-4 bg-yellow-500 text-black hover:bg-yellow-200",children:"Shuffle"}),(0,r.jsx)(v,{onClick:()=>y(e=>(e+1)%w.length),className:"ml-4 bg-yellow-500 text-black hover:bg-yellow-200",children:"Next"})]})]})]}):(0,r.jsx)("div",{children:"Loading sheets..."})}},9068:(e,t,s)=>{Promise.resolve().then(s.bind(s,622))}},e=>{var t=t=>e(e.s=t);e.O(0,[888,441,684,358],()=>t(9068)),_N_E=e.O()}]);